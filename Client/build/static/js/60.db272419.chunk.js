(this.webpackJsonpvatzapp=this.webpackJsonpvatzapp||[]).push([[60],{1122:function(e,t,a){"use strict";a.r(t);var c=a(8),n=a(21),i=a(1),s=a.n(i),l=a(908),r=a(904),d=a(983),j=a(333),o=a(835),b=a(178),u=a(1144),x=a(1024),O=a(816),p=a(106),h=a.n(p),f=a(707),m=a.n(f),v=a(736),g=a(827),y=a(84),w=a(40),_=a(51),k=a(217),D=a(93),S=a(2);t.default=function(e){var t,a,p,f,N,Y,M,C,I=Object(i.useState)(!1),z=Object(n.a)(I,2),E=z[0],F=z[1],B=Object(i.useState)([]),W=Object(n.a)(B,2),A=W[0],J=W[1],K=Object(i.useState)(null),P=Object(n.a)(K,2),T=P[0],q=P[1],H=Object(i.useState)(null),R=Object(n.a)(H,2),G=R[0],L=R[1],Q=JSON.parse(sessionStorage.getItem("user")),U=Object(i.useState)({skip:0,take:10}),V=Object(n.a)(U,2),X=V[0],Z=V[1],$=Object(i.useState)(null),ee=Object(n.a)($,2),te=ee[0],ae=ee[1],ce=Object(i.useState)([]),ne=Object(n.a)(ce,2),ie=ne[0],se=ne[1],le=Object(i.useState)(window.innerWidth),re=Object(n.a)(le,2),de=re[0],je=re[1],oe=Object(i.useState)(1024),be=Object(n.a)(oe,2),ue=be[0],xe=be[1],Oe=Object(D.a)();Object(i.useEffect)((function(){ae(Object(O.a)(A,X))}),[A,X]);var pe=s.a.useCallback((function(){var e=document.querySelector(".k-grid");(null===e||void 0===e?void 0:e.offsetWidth)>ue&&xe(e.offsetWidth)}),[ue]);Object(i.useEffect)((function(){je(window.innerWidth>992),new ResizeObserver((function(){pe()})).observe(document.querySelector(".k-grid")),he()}),[pe]);var he=function(){F(!0),Object(y.a)("get",w.a.summary.clientdaywisesummary,{},!0).then((function(e){if(F(!1),e&&200===e.status_code){var t=e.payload.map((function(e,t){return Object(c.a)(Object(c.a)({},e),{},{id:t+1})}));se(t),J(t)}else Object(_.a)("Error",e.message,"error")})).catch((function(e){F(!1),Object(_.a)("Error","Something went wrong","error")}))};return Object(S.jsxs)(s.a.Fragment,{children:[E&&Object(S.jsx)(k.a,{}),Object(S.jsx)(l.a,{children:Object(S.jsx)(r.a,{xl:12,children:Object(S.jsx)(d.a,{className:"rounded",children:Object(S.jsxs)(d.a.Body,{className:"p-4",children:[Object(S.jsxs)(l.a,{className:"mb-3",children:[Object(S.jsx)(r.a,{xs:12,md:4,xl:3,children:Object(S.jsxs)("div",{className:"date-picker-container",children:[Object(S.jsx)(m.a,{className:"form-control mb-2",placeholderText:"Start Date",minDate:new Date(null===Q||void 0===Q||null===(t=Q.period)||void 0===t||null===(a=t.start_period_date)||void 0===a?void 0:a.date),maxDate:new Date(null===Q||void 0===Q||null===(p=Q.period)||void 0===p||null===(f=p.end_period_date)||void 0===f?void 0:f.date),dateFormat:"dd/MM/yyyy",selected:T,onSelect:function(){return L(null)},onChange:q}),Object(S.jsx)("i",{className:"feather icon-calendar"})]})}),Object(S.jsx)(r.a,{xs:12,md:4,xl:3,children:Object(S.jsxs)("div",{className:"date-picker-container",children:[Object(S.jsx)(m.a,{className:"form-control mb-2",minDate:T||new Date(null===Q||void 0===Q||null===(N=Q.period)||void 0===N||null===(Y=N.start_period_date)||void 0===Y?void 0:Y.date),maxDate:new Date(null===Q||void 0===Q||null===(M=Q.period)||void 0===M||null===(C=M.end_period_date)||void 0===C?void 0:C.date),placeholderText:"End Date",dateFormat:"dd/MM/yyyy",selected:G,onChange:L}),Object(S.jsx)("i",{className:"feather icon-calendar"})]})}),Object(S.jsx)(r.a,{xs:12,md:1,xl:1,children:Object(S.jsx)("button",{type:"button",className:"btn-icon btn btn-primary search-button",onClick:function(){var e=[];T&&e.push({field:"invoice_date",operator:"gte",value:h()(T).format("YYYY-MM-DD")}),G&&e.push({field:"invoice_date",operator:"lte",value:h()(G).format("YYYY-MM-DD")});var t=Object(c.a)(Object(c.a)({},X),{},{filter:{logic:"and",filters:e}});Z(t)},children:Object(S.jsx)("i",{className:"feather icon-search"})})}),Object(S.jsx)(r.a,{xs:2,md:1,xl:1,children:(T||G)&&Object(S.jsx)("div",{className:"text-muted filter-close-btn",role:"button",onClick:function(){var e=Object(c.a)(Object(c.a)({},X),{},{filter:null});Z(e),q(null),L(null)},children:Object(S.jsx)("i",{className:"feather icon-x"})})}),Object(S.jsx)(r.a,{md:1,xl:4,style:{display:"flex",justifyContent:"flex-end"},children:Object(S.jsx)(j.a,{size:"sm",onClick:he,children:Object(S.jsx)(g.a,{size:"1.8em"})})})]}),de&&Object(S.jsxs)(u.a,{data:te,skip:X.skip,pageSize:X.take,pageable:{buttonCount:5,info:!0,type:"numeric",pageSizes:!0,previousNext:!0},onPageChange:function(e){return Z(Object(c.a)(Object(c.a)({},X),{},{skip:e.page.skip,take:e.page.take}))},filterable:!0,filter:X.filter,onFilterChange:function(e){return Z(Object(c.a)(Object(c.a)({},X),{},{filter:e.filter}))},children:[Object(S.jsx)(x.a,{field:"id",title:"#",width:"60px",filterable:!1,cell:function(e){return Object(S.jsx)("td",{children:e.dataIndex+1})}}),Object(S.jsx)(x.a,{field:"invoice_date",filterable:!1,width:function(e){if(Oe.width<992)return e;var t=ue-600;return t>e?t:e}(180),title:"Invoice Date",cell:function(e){return Object(S.jsx)("td",{children:h()(e.dataItem.invoice_date).format("DD-MMM-YYYY")})}}),Object(S.jsx)(x.a,{field:"sale_amount",width:"180",title:"Sales"}),Object(S.jsx)(x.a,{field:"purchase_amount",width:"180",title:"Purchase"}),Object(S.jsx)(x.a,{field:"expenditure_amount",width:"180",title:"Expenditure"})]}),Object(S.jsx)("div",{children:!de&&Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(o.a,{defaultActiveKey:"0",children:ie&&ie.length>0&&ie.map((function(e){return Object(S.jsxs)(d.a,{style:{marginBottom:4},children:[Object(S.jsx)(o.a.Toggle,{as:d.a.Header,style:{backgroundColor:"#7599b1",color:"#ffffff",padding:"8px 16px"},eventKey:e.id,children:Object(S.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.invoice_date,Object(S.jsx)(j.a,{variant:"outline-light",size:"sm",children:Object(S.jsx)(v.a,{})})]})}),Object(S.jsx)(o.a.Collapse,{eventKey:e.id,children:Object(S.jsx)(d.a.Body,{children:Object(S.jsxs)(b.a,{children:[Object(S.jsxs)(b.a.Item,{children:[Object(S.jsx)("span",{style:{padding:"0 16px 0 8px"},children:"Invoice Date:"}),Object(S.jsxs)("span",{children:[" ",h()(e.invoice_date).format("DD-MMM-YYYY")]})]}),Object(S.jsxs)(b.a.Item,{children:[Object(S.jsx)("span",{style:{padding:"0 16px 0 8px"},children:"Invoice Number:"}),Object(S.jsxs)("span",{children:[" ",e.invoice_number]})]}),Object(S.jsxs)(b.a.Item,{children:[Object(S.jsx)("span",{style:{padding:"0 16px 0 8px"},children:"Sales:"}),Object(S.jsxs)("span",{children:[" ",e.sale_amount]})]}),Object(S.jsxs)(b.a.Item,{children:[Object(S.jsx)("span",{style:{padding:"0 16px 0 8px"},children:"Purchase:"}),Object(S.jsxs)("span",{children:[" ",e.purchase_amount]})]}),Object(S.jsxs)(b.a.Item,{children:[Object(S.jsx)("span",{style:{padding:"0 16px 0 8px"},children:"Expenditure:"}),Object(S.jsxs)("span",{children:[" ",e.expenditure_amount]})]})]})})})]},e.id)}))})})})]})})})})]})}},827:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var c=a(0);function n(e){return Object(c.a)({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 0 0-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 0 1 655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 0 1 279 755.2a342.16 342.16 0 0 1-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 0 1 109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 0 0 3 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]})(e)}}}]);
//# sourceMappingURL=60.db272419.chunk.js.map