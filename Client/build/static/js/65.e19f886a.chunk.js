(this.webpackJsonpvatzapp=this.webpackJsonpvatzapp||[]).push([[65],{1135:function(e,t,a){"use strict";a.r(t);var c=a(8),n=a(21),i=a(1),s=a.n(i),l=a(908),r=a(904),j=a(983),d=a(835),o=a(333),b=a(178),O=a(1144),u=a(1024),x=a(816),f=a(106),h=a.n(f),p=a(707),m=a.n(p),v=a(736),g=a(84),y=a(51),k=a(40),S=a(217),w=a(93),N=a(2);t.default=function(e){var t=Object(i.useState)(!1),a=Object(n.a)(t,2),f=a[0],p=a[1],Y=Object(i.useState)([]),_=Object(n.a)(Y,2),I=_[0],M=_[1],D=Object(i.useState)(null),C=Object(n.a)(D,2),T=C[0],z=C[1],A=Object(i.useState)(null),E=Object(n.a)(A,2),V=E[0],W=E[1],B=Object(i.useState)({skip:0,take:10}),F=Object(n.a)(B,2),J=F[0],K=F[1],q=Object(i.useState)(null),H=Object(n.a)(q,2),P=H[0],R=H[1],G=(JSON.parse(sessionStorage.getItem("user")),Object(i.useState)(1024)),L=Object(n.a)(G,2),Q=L[0],U=L[1],X=Object(w.a)(),Z=Object(i.useState)([]),$=Object(n.a)(Z,2),ee=$[0],te=$[1],ae=Object(i.useState)(window.innerWidth),ce=Object(n.a)(ae,2),ne=ce[0],ie=ce[1];Object(i.useEffect)((function(){return ie(window.innerWidth>992)}),[]);var se=s.a.useCallback((function(){var e=document.querySelector(".k-grid");(null===e||void 0===e?void 0:e.offsetWidth)>Q&&U(e.offsetWidth)}),[Q]);Object(i.useEffect)((function(){new ResizeObserver((function(){se()})).observe(document.querySelector(".k-grid")),le()}),[se]),Object(i.useEffect)((function(){R(Object(x.a)(I,J))}),[I,J]);var le=function(){p(!0),Object(g.a)("get",k.a.sales.clientsalesreport,{},!0).then((function(e){p(!1),e&&200===e.status_code?(M(e.payload),te(e.payload)):Object(y.a)("Error",e.message,"error")})).catch((function(e){p(!1),Object(y.a)("Error","Something went wrong","error")}))};return Object(N.jsxs)(s.a.Fragment,{children:[f&&Object(N.jsx)(S.a,{}),Object(N.jsx)(l.a,{children:Object(N.jsx)(r.a,{xl:12,children:Object(N.jsx)(j.a,{className:"rounded",children:Object(N.jsxs)(j.a.Body,{className:"p-4",children:[Object(N.jsxs)(l.a,{className:"mb-3",children:[Object(N.jsx)(r.a,{xs:12,md:4,xl:3,children:Object(N.jsxs)("div",{className:"date-picker-container",children:[Object(N.jsx)(m.a,{className:"form-control mb-2",placeholderText:"Start Date",dateFormat:"dd/MM/yyyy",selected:T,onSelect:function(){return W(null)},onChange:z}),Object(N.jsx)("i",{className:"feather icon-calendar"})]})}),Object(N.jsx)(r.a,{xs:12,md:4,xl:3,children:Object(N.jsxs)("div",{className:"date-picker-container",children:[Object(N.jsx)(m.a,{className:"form-control mb-2"}),Object(N.jsx)("i",{className:"feather icon-calendar"})]})}),Object(N.jsx)(r.a,{xs:10,md:1,xl:1,children:Object(N.jsx)("button",{type:"button",className:"btn-icon btn btn-primary search-button",onClick:function(){var e=[];T&&e.push({field:"invoice_date",operator:"gte",value:h()(T).format("YYYY-MM-DD")}),V&&e.push({field:"invoice_date",operator:"lte",value:h()(V).format("YYYY-MM-DD")});var t=Object(c.a)(Object(c.a)({},J),{},{filter:{logic:"and",filters:e}});K(t)},children:Object(N.jsx)("i",{className:"feather icon-search"})})}),Object(N.jsx)(r.a,{xs:2,md:1,xl:1,children:(T||V)&&Object(N.jsx)("div",{className:"text-muted filter-close-btn",role:"button",onClick:function(){K(Object(c.a)(Object(c.a)({},J),{},{filter:null})),z(null),W(null)},children:Object(N.jsx)("i",{className:"feather icon-x"})})})]}),ne&&Object(N.jsxs)(O.a,{data:P,skip:J.skip,pageSize:J.take,pageable:{buttonCount:5,info:!0,type:"numeric",pageSizes:!0,previousNext:!0},onPageChange:function(e){return K(Object(c.a)(Object(c.a)({},J),{},{skip:e.page.skip,take:e.page.take}))},filterable:!0,filter:J.filter,onFilterChange:function(e){return K(Object(c.a)(Object(c.a)({},J),{},{filter:e.filter}))},children:[Object(N.jsx)(u.a,{field:"id",title:"#",width:"60px",filterable:!1,cell:function(e){return Object(N.jsx)("td",{children:e.dataIndex+1})}}),Object(N.jsx)(u.a,{field:"invoice_date",width:function(e){if(X.width<992)return e;var t=Q-860;return t>e?t:e}(200),title:"Invoice Date",filterable:!1,cell:function(e){return Object(N.jsx)("td",{children:h()(e.dataItem.invoice_date).format("DD-MMM-YYYY")})}}),Object(N.jsx)(u.a,{field:"invoice_number",title:"Invoice Number",width:"200"}),Object(N.jsx)(u.a,{field:"amount_exclude_vat",width:"200",title:"Amount Excl VAT",filterable:!1}),Object(N.jsx)(u.a,{field:"vat_amount",width:"200",title:"VAT",filterable:!1}),Object(N.jsx)(u.a,{field:"amount",width:"200",title:"Total"})]}),Object(N.jsx)("div",{children:!ne&&Object(N.jsx)(d.a,{defaultActiveKey:"0",children:ee&&ee.length>0&&ee.map((function(e){return Object(N.jsxs)(j.a,{style:{marginBottom:4},children:[Object(N.jsx)(d.a.Toggle,{as:j.a.Header,style:{backgroundColor:"#7599b1"},eventKey:e.id,children:Object(N.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(N.jsx)("span",{style:{display:"flex",alignItems:"center",color:"#ffffff",fontSize:18},children:e.invoice_date}),Object(N.jsx)(o.a,{variant:"outline-light",size:"sm",children:Object(N.jsx)(v.a,{})})]})}),Object(N.jsx)(d.a.Collapse,{eventKey:e.id,children:Object(N.jsx)(j.a.Body,{children:Object(N.jsxs)(b.a,{children:[Object(N.jsxs)(b.a.Item,{children:[Object(N.jsx)("span",{style:{padding:"0 16px 0 8px"},children:"Invoice Date:"}),Object(N.jsx)("span",{children:h()(e.invoice_date).format("DD-MMM-YYYY")})]}),Object(N.jsxs)(b.a.Item,{children:[Object(N.jsx)("span",{style:{padding:"0 16px 0 8px"},children:"Invoice Number:"}),Object(N.jsx)("span",{children:e.invoice_number})]}),Object(N.jsxs)(b.a.Item,{children:[Object(N.jsx)("span",{style:{padding:"0 16px 0 8px"},children:"Amount Excl VAT:"}),Object(N.jsx)("span",{children:e.amount_exclude_vat})]}),Object(N.jsxs)(b.a.Item,{children:[Object(N.jsx)("span",{style:{padding:"0 16px 0 8px"},children:"VAT:"}),Object(N.jsx)("span",{children:e.vat_amount})]}),Object(N.jsxs)(b.a.Item,{children:[Object(N.jsx)("span",{style:{padding:"0 16px 0 8px"},children:"Total:"}),Object(N.jsx)("span",{children:e.amount})]})]})})})]},e.id)}))})})]})})})})]})}}}]);
//# sourceMappingURL=65.e19f886a.chunk.js.map