(this.webpackJsonpvatzapp=this.webpackJsonpvatzapp||[]).push([[64],{1137:function(e,t,a){"use strict";a.r(t);var c=a(8),n=a(21),i=a(1),s=a.n(i),l=a(908),r=a(904),j=a(983),d=a(835),b=a(333),o=a(178),x=a(1144),O=a(1024),p=a(816),u=a(106),h=a.n(u),f=a(707),m=a.n(f),v=a(736),g=a(84),y=a(51),S=a(40),N=a(217),w=a(2);t.default=function(e){var t=Object(i.useState)(!1),a=Object(n.a)(t,2),u=a[0],f=a[1],k=Object(i.useState)([]),Y=Object(n.a)(k,2),_=Y[0],I=Y[1],M=Object(i.useState)(null),D=Object(n.a)(M,2),C=D[0],T=D[1],E=Object(i.useState)(null),z=Object(n.a)(E,2),A=z[0],F=z[1],B=(JSON.parse(sessionStorage.getItem("user")),Object(i.useState)({skip:0,take:10})),J=Object(n.a)(B,2),K=J[0],V=J[1],R=Object(i.useState)(null),W=Object(n.a)(R,2),H=W[0],P=W[1],q=Object(i.useState)([]),G=Object(n.a)(q,2),L=G[0],Q=G[1],U=Object(i.useState)(window.innerWidth),X=Object(n.a)(U,2),Z=X[0],$=X[1];Object(i.useEffect)((function(){ee(),$(window.innerWidth>992)}),[]),Object(i.useEffect)((function(){P(Object(p.a)(_,K))}),[_,K]);var ee=function(){f(!0),Object(g.a)("get",S.a.purchase.clientpurchasereport,{},!0).then((function(e){f(!1),e&&200===e.status_code?(I(e.payload),Q(e.payload)):Object(y.a)("Error",e.message,"error")})).catch((function(e){f(!1),Object(y.a)("Error","Something went wrong","error")}))};return Object(w.jsxs)(s.a.Fragment,{children:[u&&Object(w.jsx)(N.a,{}),Object(w.jsx)(l.a,{children:Object(w.jsx)(r.a,{xl:12,children:Object(w.jsx)(j.a,{className:"rounded",children:Object(w.jsxs)(j.a.Body,{className:"p-4",children:[Object(w.jsxs)(l.a,{className:"mb-3",children:[Object(w.jsx)(r.a,{xs:12,md:4,xl:3,children:Object(w.jsxs)("div",{className:"date-picker-container",children:[Object(w.jsx)(m.a,{className:"form-control mb-2",placeholderText:"Start Date",dateFormat:"dd/MM/yyyy",selected:C,onSelect:function(){return F(null)},onChange:T}),Object(w.jsx)("i",{className:"feather icon-calendar"})]})}),Object(w.jsx)(r.a,{xs:12,md:4,xl:3,children:Object(w.jsxs)("div",{className:"date-picker-container",children:[Object(w.jsx)(m.a,{className:"form-control mb-2",placeholderText:"End Date",dateFormat:"dd/MM/yyyy",selected:A,onChange:F}),Object(w.jsx)("i",{className:"feather icon-calendar"})]})}),Object(w.jsx)(r.a,{xs:10,md:1,xl:1,children:Object(w.jsx)("button",{type:"button",className:"btn-icon btn btn-primary search-button",onClick:function(){var e=[];C&&e.push({field:"invoice_date",operator:"gte",value:h()(C).format("YYYY-MM-DD")}),A&&e.push({field:"invoice_date",operator:"lte",value:h()(A).format("YYYY-MM-DD")});var t=Object(c.a)(Object(c.a)({},K),{},{filter:{logic:"and",filters:e}});V(t)},children:Object(w.jsx)("i",{className:"feather icon-search"})})}),Object(w.jsx)(r.a,{xs:2,md:1,xl:1,children:(C||A)&&Object(w.jsx)("div",{className:"text-muted filter-close-btn",role:"button",onClick:function(){var e=Object(c.a)(Object(c.a)({},K),{},{filter:null});V(e),T(null),F(null)},children:Object(w.jsx)("i",{className:"feather icon-x"})})})]}),Z&&Object(w.jsxs)(x.a,{data:H,skip:K.skip,pageSize:K.take,pageable:{buttonCount:5,info:!0,type:"numeric",pageSizes:!0,previousNext:!0},onPageChange:function(e){var t=Object(c.a)(Object(c.a)({},K),{},{skip:e.page.skip,take:e.page.take});V(t)},filterable:!0,filter:K.filter,onFilterChange:function(e){var t=Object(c.a)(Object(c.a)({},K),{},{filter:e.filter});V(t)},children:[Object(w.jsx)(O.a,{field:"id",title:"#",width:"60px",filterable:!1,cell:function(e){return Object(w.jsx)("td",{children:e.dataIndex+1})}}),Object(w.jsx)(O.a,{field:"invoice_date",width:"180",title:"Invoice Date",filterable:!1,cell:function(e){return Object(w.jsx)("td",{children:h()(e.dataItem.invoice_date).format("DD-MMM-YYYY")})}}),Object(w.jsx)(O.a,{field:"invoice_number",width:"200",title:"Invoice Number"}),Object(w.jsx)(O.a,{field:"supplier_name",width:"250",title:"Supplier"}),Object(w.jsx)(O.a,{field:"trn",width:"180",title:"Supplier TRN"}),Object(w.jsx)(O.a,{field:"amount_exclude_vat",width:"150",filterable:!1,title:"Amount Excl VAT"}),Object(w.jsx)(O.a,{field:"vat_amount",width:"150",title:"VAT",filterable:!1}),Object(w.jsx)(O.a,{field:"amount",width:"150",title:"Total"})]}),Object(w.jsx)("div",{children:!Z&&Object(w.jsx)(d.a,{defaultActiveKey:"0",children:L&&L.length>0&&L.map((function(e){return Object(w.jsxs)(j.a,{style:{marginBottom:4},children:[Object(w.jsx)(d.a.Toggle,{as:j.a.Header,style:{backgroundColor:"#7599b1"},eventKey:e.id,children:Object(w.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(w.jsx)("span",{style:{display:"flex",alignItems:"center",color:"#ffffff",fontSize:18},children:e.invoice_date}),Object(w.jsx)(b.a,{variant:"outline-light",size:"sm",children:Object(w.jsx)(v.a,{})})]})}),Object(w.jsx)(d.a.Collapse,{eventKey:e.id,children:Object(w.jsx)(j.a.Body,{children:Object(w.jsxs)(o.a,{children:[Object(w.jsxs)(o.a.Item,{children:[Object(w.jsx)("span",{style:{padding:"0 16px 0 8px"},children:"Invoice Date:"}),Object(w.jsx)("span",{children:h()(e.invoice_date).format("DD-MMM-YYYY")})]}),Object(w.jsxs)(o.a.Item,{children:[Object(w.jsx)("span",{style:{padding:"0 16px 0 8px"},children:"Invoice Number:"}),Object(w.jsx)("span",{children:e.invoice_number})]}),Object(w.jsxs)(o.a.Item,{children:[Object(w.jsx)("span",{style:{padding:"0 16px 0 8px"},children:"Supplier:"}),Object(w.jsx)("span",{children:e.supplier_name})]}),Object(w.jsxs)(o.a.Item,{children:[Object(w.jsx)("span",{style:{padding:"0 16px 0 8px"},children:"Supplier TRN:"}),Object(w.jsx)("span",{children:e.trn})]}),Object(w.jsxs)(o.a.Item,{children:[Object(w.jsx)("span",{style:{padding:"0 16px 0 8px"},children:"Amount Excl VAT:"}),Object(w.jsx)("span",{children:e.amount_exclude_vat})]}),Object(w.jsxs)(o.a.Item,{children:[Object(w.jsx)("span",{style:{padding:"0 16px 0 8px"},children:"Total:"}),Object(w.jsx)("span",{children:e.amount})]})]})})})]},e.id)}))})})]})})})})]})}}}]);
//# sourceMappingURL=64.bd7961e0.chunk.js.map